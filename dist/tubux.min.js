/*!
 * Tubux v1.0.1
 * https://github.com/thomasperi/tubux#readme
 * Thomas Peri <hello@thomasperi.net>
 * MIT License
 */
!function(n,t,e){!function(n,t){"use strict";var e,r,i,o="$$",u="hasOwnProperty",s="noConflict",c="object",f="function"==typeof define&&define,l=typeof exports===c&&exports,a=typeof module===c&&module;f&&f.amd&&typeof f.amd===c?define([],n):a&&l===t&&l===a.exports?module.exports=n():((i=t[u](o))&&(r=t.$$),t.$$=e=n(),e[u](s)||(e[s]=function(){return i?t.$$=r:delete t.$$,e[s]=function(){return e},e}))}(function(){"use strict";var n="this accessor is write-only",t="this accessor is read-only",e="this accessor is hidden",r="this accessor is required",i="this flag is only available after applying the .accessor() flag",o="hasOwnProperty",u="prototype",s="function";function c(n){return new p(n)}function f(n){return d(arguments,function(t){h(t,function(t,e){n[t]=e})},1),n}function l(n){return typeof n===s?n:null}function a(n,t){return n instanceof p&&n[t].v}function h(n,t){for(var e in n)n[o](e)&&t(e,n[e])}function d(n,t,e,r){var i,o=r||n.length;for(i=e||0;i<o;i++)t(n[i],i)}function p(n){var t=this,e=[];function r(n){return function e(){n&&n();e.v=!0;return t}}function o(n){return function(){t.accessor.v||v(i,n)()}}f(t,{value:n,accessor:r(),required:r(),readonly:r(o("readonly")),writeonly:r(o("writeonly")),hidden:r(o("hidden")),filter:function(n){return o("filter")(),t.filter.v=n,t},listen:function(n){return o("listen")(),e.push(l(n)),t},listeners:function(){return e}})}function v(n,t){return function(){throw{message:n,key:t}}}return f(c,{assign:f,struct:function(n){var t=(n=f({},{params:{},proto:{},statics:{},construct:null},n)).params,e=l(n.construct);function i(n){var s=this,c={};n="object"==typeof n&&n||{},h(t,function(t,e){a(e,"required")&&!n[o](t)&&v(r,t)(),s[t]=e}),h(n,function(n,t){a(s[n],"accessor")?s[n].value=t:s[n]=t}),function(){var n,t;for(t in s)a(n=s[o](t)?s[t]:i[u][o](t)?i[u][t]:null,"accessor")&&(s[t]=c[t]=n.generate(s,t))}(),e&&e.call(s),h(c,function(n,t){s[n]===t&&delete s[n].ready})}return f(i[u],n.proto),f(i,n.statics),i},errors:{WRITEONLY:n,READONLY:t,HIDDEN:e,REQUIRED:r,ACCESSORONLY:i},debug:!1}),p[u].generate=function(r,i){var o,u=this.readonly.v,s=this.writeonly.v,c=this.hidden.v,a=!s&&!c,h=!u&&!c,p=l(this.filter.v),y=this.listeners(),g=v(e,i),$=v(t,i),m=v(n,i),w=h&&a?b:h?function(){if(arguments.length>0)return O(arguments[0]),o;m()}:a?function(){if(0===arguments.length)return o;$()}:function(){g()};function O(n){o!==(o=p?p(n):n)&&x.publish()}function b(){return arguments.length>0&&O(arguments[0]),o}var x={ready:function(){return b},publish:function(){return d(y,function(n){n&&n.call(r,o)}),this},filter:function(n){return p=l(n),b(o),this},listen:function(n){return y.indexOf(n)<0&&y.push(n),this},unlisten:function(n){var t=y.indexOf(n);return t>=0&&y.splice(t,1),this}};return f(w,x),f(b,x),h&&a||(w.filter=a?$:h?m:g),a||(w.listen=h?m:g),b(this.value),w},c.debug&&console.log(y),c;var y},n)}(this);